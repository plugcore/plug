{
	"openapi": "3.0.0",
	"info": {},
	"components": {
		"schemas": {}
	},
	"tags": [
		{
			"name": "tours",
			"description": "Tour consultation methods"
		},
		{
			"name": "reservations",
			"description": "User reservations"
		}
	],
	"paths": {
		"/tours/find-future-tours-in-city/{cityId}": {
			"get": {
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"title": "Tour list",
									"type": "array",
									"items": {
										"title": "Tour",
										"type": "object",
										"properties": {
											"id": {
												"title": "Id",
												"type": "string"
											},
											"name": {
												"title": "Name",
												"type": "string"
											},
											"description": {
												"title": "Description",
												"type": "string"
											},
											"longDescription": {
												"title": "LongDescription",
												"type": "string"
											},
											"imageUrl": {
												"title": "ImageUrl",
												"type": "string"
											},
											"price": {
												"title": "Price",
												"type": "array",
												"items": {
													"$schema": "http://json-schema.org/draft-07/schema#",
													"title": "PriceInCurrencies",
													"type": "object",
													"properties": {
														"price": {
															"title": "Price",
															"type": "string"
														},
														"currency": {
															"title": "Currency",
															"type": "number"
														}
													},
													"required": [
														"price",
														"currency"
													]
												},
												"minItems": 1,
												"uniqueItems": true
											}
										},
										"required": [
											"id",
											"name",
											"description",
											"longDescription",
											"imageUrl",
											"price"
										]
									}
								}
							}
						}
					},
					"400": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					},
					"500": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					}
				},
				"summary": "Returns a list of future tours for a given city",
				"tags": [
					"tours"
				],
				"parameters": [
					{
						"name": "cityId",
						"in": "path",
						"required": true,
						"schema": {
							"title": "CityId",
							"type": "string"
						}
					}
				]
			}
		},
		"/tours/find-related-products-for-tour/{tourId}": {
			"get": {
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"title": "TourRelatedProducts",
									"type": "object",
									"properties": {
										"departingFlights": {
											"title": "DepartingFlights",
											"type": "array",
											"items": {
												"$schema": "http://json-schema.org/draft-07/schema#",
												"title": "Flight",
												"type": "object",
												"properties": {
													"id": {
														"title": "Id",
														"type": "string"
													},
													"departureAirport": {
														"title": "DepartureAirport",
														"type": "string"
													},
													"arrivalAirport": {
														"title": "ArrivalAirport",
														"type": "string"
													},
													"departureDate": {
														"title": "DepartureDate",
														"type": "number"
													},
													"arrivalDate": {
														"title": "ArrivalDate",
														"type": "number"
													},
													"price": {
														"title": "Price",
														"type": "array",
														"items": {
															"$schema": "http://json-schema.org/draft-07/schema#",
															"title": "PriceInCurrencies",
															"type": "object",
															"properties": {
																"price": {
																	"title": "Price",
																	"type": "string"
																},
																"currency": {
																	"title": "Currency",
																	"type": "number"
																}
															},
															"required": [
																"price",
																"currency"
															]
														},
														"minItems": 1,
														"uniqueItems": true
													}
												},
												"required": [
													"id",
													"departureAirport",
													"arrivalAirport",
													"departureDate",
													"arrivalDate",
													"price"
												]
											},
											"minItems": 1,
											"uniqueItems": true
										},
										"returningFlights": {
											"title": "ReturningFlights",
											"type": "array",
											"items": {
												"$schema": "http://json-schema.org/draft-07/schema#",
												"title": "Flight",
												"type": "object",
												"properties": {
													"id": {
														"title": "Id",
														"type": "string"
													},
													"departureAirport": {
														"title": "DepartureAirport",
														"type": "string"
													},
													"arrivalAirport": {
														"title": "ArrivalAirport",
														"type": "string"
													},
													"departureDate": {
														"title": "DepartureDate",
														"type": "number"
													},
													"arrivalDate": {
														"title": "ArrivalDate",
														"type": "number"
													},
													"price": {
														"title": "Price",
														"type": "array",
														"items": {
															"$schema": "http://json-schema.org/draft-07/schema#",
															"title": "PriceInCurrencies",
															"type": "object",
															"properties": {
																"price": {
																	"title": "Price",
																	"type": "string"
																},
																"currency": {
																	"title": "Currency",
																	"type": "number"
																}
															},
															"required": [
																"price",
																"currency"
															]
														},
														"minItems": 1,
														"uniqueItems": true
													}
												},
												"required": [
													"id",
													"departureAirport",
													"arrivalAirport",
													"departureDate",
													"arrivalDate",
													"price"
												]
											},
											"minItems": 1,
											"uniqueItems": true
										},
										"vehicles": {
											"title": "Vehicles",
											"type": "array",
											"items": {
												"$schema": "http://json-schema.org/draft-07/schema#",
												"title": "VehicleModel",
												"type": "object",
												"properties": {
													"id": {
														"title": "Id",
														"type": "number"
													},
													"model": {
														"title": "Model",
														"type": "string"
													},
													"year": {
														"title": "Year",
														"type": "number"
													}
												},
												"required": [
													"id",
													"model",
													"year"
												]
											},
											"minItems": 1,
											"uniqueItems": true
										},
										"hotelRooms": {
											"title": "HotelRooms",
											"type": "array",
											"items": {
												"$schema": "http://json-schema.org/draft-07/schema#",
												"title": "HotelRoom",
												"type": "object",
												"properties": {
													"id": {
														"title": "Id",
														"type": "string"
													},
													"hotel": {
														"title": "Hotel",
														"type": "string"
													},
													"roomType": {
														"title": "RoomType",
														"type": "string",
														"pattern": "big|small"
													},
													"checkInDate": {
														"title": "CheckInDate",
														"type": "number"
													},
													"checkOutDate": {
														"title": "CheckOutDate",
														"type": "number"
													},
													"price": {
														"title": "Price",
														"type": "array",
														"items": {
															"$schema": "http://json-schema.org/draft-07/schema#",
															"title": "PriceInCurrencies",
															"type": "object",
															"properties": {
																"price": {
																	"title": "Price",
																	"type": "string"
																},
																"currency": {
																	"title": "Currency",
																	"type": "number"
																}
															},
															"required": [
																"price",
																"currency"
															]
														},
														"minItems": 1,
														"uniqueItems": true
													}
												},
												"required": [
													"id",
													"hotel",
													"roomType",
													"checkInDate",
													"checkOutDate",
													"price"
												]
											},
											"minItems": 1,
											"uniqueItems": true
										}
									},
									"required": [
										"departingFlights",
										"returningFlights",
										"vehicles",
										"hotelRooms"
									]
								}
							}
						}
					},
					"400": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					},
					"500": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					}
				},
				"summary": "Given a tour it tries to offer all related products",
				"tags": [
					"tours"
				],
				"parameters": [
					{
						"name": "tourId",
						"in": "path",
						"required": true,
						"schema": {
							"title": "TourId",
							"type": "string"
						}
					}
				]
			}
		},
		"/reservations/": {
			"post": {
				"responses": {
					"200": {
						"description": "Default Response"
					}
				},
				"summary": "Creates a new reservation composed of a tour and complement products",
				"tags": [
					"reservations"
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"title": "ReservationReferences",
								"type": "object",
								"properties": {
									"userId": {
										"title": "UserId",
										"type": "string"
									},
									"tourId": {
										"title": "TourId",
										"type": "string"
									},
									"hotelRoomId": {
										"title": "HotelRoomId",
										"type": "string"
									},
									"flights": {
										"title": "ReservationFlightsReferences",
										"type": "object",
										"properties": {
											"departingFlight": {
												"title": "DepartingFlight",
												"type": "string"
											},
											"returningFlight": {
												"title": "ReturningFlight",
												"type": "string"
											}
										},
										"required": [
											"departingFlight",
											"returningFlight"
										]
									},
									"vehicleId": {
										"title": "VehicleId",
										"type": "string"
									}
								},
								"required": [
									"userId",
									"tourId",
									"hotelRoomId",
									"flights",
									"vehicleId"
								]
							}
						}
					},
					"required": true
				}
			}
		},
		"/reservations/find-user-reservations/{userId}": {
			"get": {
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"title": "Reservation list",
									"type": "array",
									"items": {
										"title": "Reservation",
										"type": "object",
										"properties": {
											"id": {
												"title": "Id",
												"type": "string"
											},
											"userId": {
												"title": "UserId",
												"type": "string"
											},
											"hotel": {
												"title": "HotelRoom",
												"type": "object",
												"properties": {
													"id": {
														"title": "Id",
														"type": "string"
													},
													"hotel": {
														"title": "Hotel",
														"type": "string"
													},
													"roomType": {
														"title": "RoomType",
														"type": "string",
														"pattern": "big|small"
													},
													"checkInDate": {
														"title": "CheckInDate",
														"type": "number"
													},
													"checkOutDate": {
														"title": "CheckOutDate",
														"type": "number"
													},
													"price": {
														"title": "Price",
														"type": "array",
														"items": {
															"$schema": "http://json-schema.org/draft-07/schema#",
															"title": "PriceInCurrencies",
															"type": "object",
															"properties": {
																"price": {
																	"title": "Price",
																	"type": "string"
																},
																"currency": {
																	"title": "Currency",
																	"type": "number"
																}
															},
															"required": [
																"price",
																"currency"
															]
														},
														"minItems": 1,
														"uniqueItems": true
													}
												},
												"required": [
													"id",
													"hotel",
													"roomType",
													"checkInDate",
													"checkOutDate",
													"price"
												]
											},
											"flights": {
												"title": "ReservationFlights",
												"type": "object",
												"properties": {
													"departingFlight": {
														"title": "Flight",
														"type": "object",
														"properties": {
															"id": {
																"title": "Id",
																"type": "string"
															},
															"departureAirport": {
																"title": "DepartureAirport",
																"type": "string"
															},
															"arrivalAirport": {
																"title": "ArrivalAirport",
																"type": "string"
															},
															"departureDate": {
																"title": "DepartureDate",
																"type": "number"
															},
															"arrivalDate": {
																"title": "ArrivalDate",
																"type": "number"
															},
															"price": {
																"title": "Price",
																"type": "array",
																"items": {
																	"$schema": "http://json-schema.org/draft-07/schema#",
																	"title": "PriceInCurrencies",
																	"type": "object",
																	"properties": {
																		"price": {
																			"title": "Price",
																			"type": "string"
																		},
																		"currency": {
																			"title": "Currency",
																			"type": "number"
																		}
																	},
																	"required": [
																		"price",
																		"currency"
																	]
																},
																"minItems": 1,
																"uniqueItems": true
															}
														},
														"required": [
															"id",
															"departureAirport",
															"arrivalAirport",
															"departureDate",
															"arrivalDate",
															"price"
														]
													},
													"returningFlight": {
														"title": "Flight",
														"type": "object",
														"properties": {
															"id": {
																"title": "Id",
																"type": "string"
															},
															"departureAirport": {
																"title": "DepartureAirport",
																"type": "string"
															},
															"arrivalAirport": {
																"title": "ArrivalAirport",
																"type": "string"
															},
															"departureDate": {
																"title": "DepartureDate",
																"type": "number"
															},
															"arrivalDate": {
																"title": "ArrivalDate",
																"type": "number"
															},
															"price": {
																"title": "Price",
																"type": "array",
																"items": {
																	"$schema": "http://json-schema.org/draft-07/schema#",
																	"title": "PriceInCurrencies",
																	"type": "object",
																	"properties": {
																		"price": {
																			"title": "Price",
																			"type": "string"
																		},
																		"currency": {
																			"title": "Currency",
																			"type": "number"
																		}
																	},
																	"required": [
																		"price",
																		"currency"
																	]
																},
																"minItems": 1,
																"uniqueItems": true
															}
														},
														"required": [
															"id",
															"departureAirport",
															"arrivalAirport",
															"departureDate",
															"arrivalDate",
															"price"
														]
													}
												}
											},
											"vehicle": {
												"title": "Vehicle",
												"type": "object"
											}
										},
										"required": [
											"id",
											"userId",
											"hotel",
											"flights"
										]
									}
								}
							}
						}
					},
					"400": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					},
					"500": {
						"content": {
							"application/json": {
								"schema": {
									"title": "ErrorResponseModel",
									"type": "object",
									"properties": {
										"statusCode": {
											"title": "StatusCode",
											"type": "number"
										},
										"error": {
											"title": "Error",
											"type": "string"
										},
										"message": {
											"title": "Message",
											"type": "string"
										}
									},
									"required": [
										"statusCode",
										"error",
										"message"
									]
								}
							}
						}
					}
				},
				"summary": "Returns all the reservation the user made until now",
				"tags": [
					"reservations"
				],
				"parameters": [
					{
						"name": "userId",
						"in": "path",
						"required": true,
						"schema": {
							"title": "UserId",
							"type": "string"
						}
					}
				]
			}
		},
		"/reservations/cancel-reservation/{reservationId}": {
			"delete": {
				"responses": {
					"200": {
						"description": "Default Response"
					}
				},
				"summary": "Cancels a tour reservation and all the related products",
				"tags": [
					"reservations"
				],
				"parameters": [
					{
						"name": "tourId",
						"in": "path",
						"required": true,
						"schema": {
							"title": "TourId",
							"type": "string"
						}
					}
				]
			}
		}
	}
}
